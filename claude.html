<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Buy a First Light</title>
  <meta name="description" content="The product page for First Lights. First Lights are stars that nobody has ever seen before. Be the first person to see a newly discovered star.">
  <meta name="keywords" content="stars, astronomy, first light, space, unique gift">
  <meta name="author" content="WTTDOTM">
  <meta property="og:title" content="First Light Stars">
  <meta property="og:description" content="The product page for First Lights. First Lights are stars that nobody has ever seen before. Be the first person to see a newly discovered star.">
  <meta property="og:type" content="website">
  <meta property="og:image" content="./assets/logo.png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="First Light Stars">
  <meta name="twitter:description" content="The product page for First Lights. First Lights are stars that nobody has ever seen before. Be the first person to see a newly discovered star.">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Libre+Caslon+Display&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

  <style>
    /* RESET & BASE STYLES */
    *,
    *::before,
    *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    html {
      scroll-behavior: smooth;
    }
    body {
      height: 100%;
      display: grid;
      grid-template-rows: auto 1fr auto;
      margin: 0;
      font-family: 'Inter', sans-serif;
      background-color: #000000;
      color: #ffffff;
      line-height: 1.6;
      font-weight: 300;
      letter-spacing: 0.01em;
    }
    a {
      text-decoration: none;
      color: inherit;
      transition: opacity 0.3s ease;
    }
    a:hover {
      opacity: 0.8;
    }

    h1, h2, h3, .product__title p {
      font-family: 'Libre Caslon Display', serif;
      font-weight: 400;
      letter-spacing: 0.02em;
    }

    h1 {
      font-size: clamp(2.5rem, 5vw, 4rem);
      line-height: 1.1;
      margin-bottom: 1rem;
    }
    
    h2 {
      font-size: clamp(1.8rem, 3vw, 2.5rem);
      margin-bottom: 2rem;
    }
    
    img {
      border-radius: 4px;
      transition: transform 0.5s ease;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    }
    
    p {
      margin-bottom: 1.5rem;
    }

    /* PAGE-WIDTH CONTAINER + SECTION */
    .page-width {
      width: 90%;
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 1rem;
    }
    
    .section {
      padding: 4rem 0;
      position: relative;
    }

    /* HEADER */
    header {
      padding: 1.5rem 0;
      position: relative;
      z-index: 10;
    }
    
    .header-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .logo {
      font-family: 'Libre Caslon Display', serif;
      font-size: 1.5rem;
      font-weight: 400;
    }
    


    /* PRODUCT LAYOUT: 2 columns on desktop, 1 column on mobile */
    .product {
      display: grid;
      gap: 4rem;
      position: relative;
    }

    @media (min-width: 950px) {
      .product {
        grid-template-columns: 1fr 1fr;
        align-items: start;
      }
    }

    /* PRICE TAG */
    .price-tag {
      display: inline-block;
      font-size: 1.25rem;
      margin: 1.5rem 0;
      font-weight: 500;
      border-bottom: 1px solid rgba(255, 255, 255, 0.3);
      padding-bottom: 0.5rem;
    }

    /* ACTION BUTTON */
    #action-button {
      padding: 15px 36px;
      font-size: 1rem;
      background: white;
      color: black;
      border: none;
      cursor: pointer;
      font-family: 'Inter', sans-serif;
      font-weight: 500;
      letter-spacing: 0.1em;
      transition: 0.3s ease;
      border-radius: 2px;
      transform: translateY(0);
      box-shadow: 0 4px 20px rgba(255, 255, 255, 0.2);
    }

    #action-button:hover {
      background: #f0f0f0;
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(255, 255, 255, 0.25);
    }
    
    #action-button:active {
      transform: translateY(1px);
    }

    /* IMAGES GALLERY */
    .product__media-wrapper {
      position: sticky;
      top: 2rem;
    }
    
    @media (max-width: 767px) {
      .product__media-wrapper {
        position: relative;
        top: 0;
        margin-bottom: 2rem;
      }
    }
    
    .product__media-list {
      list-style: none;
      display: grid;
      gap: 2rem;
    }
    
    /* Desktop layout with first image full width and others tiled */
    @media (min-width: 768px) {
      .product__media-list {
        display: grid;
        grid-template-columns: 1fr;
        grid-template-rows: auto;
        gap: 2rem;
      }
      
      /* First image full width */
      .product__media-list li:first-child {
        grid-column: 1 / -1;
      }
      
      /* Tiled layout for remaining images */
      .product__media-list li:not(:first-child) {
        display: block;
      }
      
      /* Create a 2-column layout for items after the first */
      .product__media-list {
        grid-template-columns: 1fr 1fr;
      }
      
      /* Keep the first item full width */
      .product__media-list li:first-child {
        grid-column: 1 / 3;
      }
    }
    
    .slider__slide {
      position: relative;
      overflow: hidden;
      border-radius: 4px;
      transform: translateY(0);
      transition: transform 0.3s ease;
    }
    
    .slider__slide:hover {
      transform: translateY(-5px);
    }
    
    .slider__slide img {
      width: 100%;
      height: auto;
      display: block;
      transition: transform 0.6s ease;
    }
    
    .slider__slide:hover img {
      transform: scale(1.03);
    }

    /* PRODUCT INFO */
    .product__info-wrapper {
      display: flex;
      flex-direction: column;
    }
    
    .product__title {
      margin-bottom: 1rem;
      position: relative;
    }
    
    .product__description {
      font-size: 1rem;
      line-height: 1.8;
      margin-top: 2.5rem;
    }
    
    .divider {
      width: 100%;
      height: 1px;
      background: rgba(255, 255, 255, 0.1);
      margin: 1rem 0;
    }

    /* FAQ ACCORDION */
    .accordion {
      margin-top: 3rem;
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
    }
    
    .accordion details {
      padding: 1.5rem 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      transition: all 0.3s ease;
    }
    
    .accordion details:hover {
      background-color: rgba(255, 255, 255, 0.03);
    }
    
    .accordion summary {
      cursor: pointer;
      list-style: none;
      font-weight: 500;
      display: flex;
      align-items: center;
      padding: 0 1rem;
    }
    
    .accordion summary::-webkit-details-marker {
      display: none;
    }
    
    .accordion summary::after {
      content: '+';
      margin-left: auto;
      font-size: 1.5rem;
      font-weight: 300;
      transition: transform 0.3s ease;
    }
    
    .accordion details[open] summary::after {
      transform: rotate(45deg);
    }
    
    .accordion__content {
      margin-top: 1rem;
      font-size: 0.95rem;
      padding: 0 1rem 0.5rem;
      opacity: 0.9;
    }

    /* TESTIMONIALS */
    .testimonials {
      text-align: center;
      padding: 6rem 0;
      background: linear-gradient(to bottom, #000000, #050505);
    }
    
    .testimonial-quote {
      font-size: 1.5rem;
      max-width: 800px;
      margin: 0 auto 1.5rem;
      font-style: italic;
      font-family: 'Libre Caslon Display', serif;
    }
    
    .testimonial-author {
      font-size: 0.9rem;
      text-transform: uppercase;
      letter-spacing: 0.2em;
      opacity: 0.7;
    }

    /* FOOTER */
    footer {
      background: #000000;
      padding: 3rem 0;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .footer__content {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
    }
    
    .footer__logo {
      margin-bottom: 2rem;
      font-family: 'Libre Caslon Display', serif;
      font-size: 1.5rem;
    }
    
    .footer__copyright {
      font-size: 0.85rem;
      color: rgba(255, 255, 255, 0.6);
      margin-top: 1rem;
    }
    
    .footer__copyright a {
      color: rgba(255, 255, 255, 0.8);
      border-bottom: 1px solid rgba(255, 255, 255, 0.3);
      padding-bottom: 2px;
    }
    
    /* ANIMATIONS & EFFECTS */
    .fade-in {
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.8s ease, transform 0.8s ease;
    }
    
    .fade-in.visible {
      opacity: 1;
      transform: translateY(0);
    }
    
    /* Make product description visible immediately on mobile */
    @media (max-width: 768px) {
      .product__description.fade-in {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    /* STARS BACKGROUND EFFECT */
    .stars {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: -1;
    }
    
    /* MOBILE ADJUSTMENTS */
    @media (max-width: 768px) {
      .section {
        padding: 3rem 0;
      }
      
      .product {
        gap: 2rem;
      }
      
      .slider__slide {
        margin-bottom: 1.5rem;
      }
      
      .testimonial-quote {
        font-size: 1.2rem;
      }
    }
    
    /* UNIFIED DISPLAY STYLE: GRID FOR DESKTOP, CAROUSEL FOR MOBILE */
    /* Default display (desktop): Grid layout */
    .product__media-list {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2rem;
    }
    
    .product__media-list li:first-child {
      grid-column: 1 / -1;
    }
    
    /* Control visibility of carousel elements on desktop */
    .slider-buttons, .slider-counter {
      display: none;
    }
    
    /* CAROUSEL FOR MOBILE */
    @media (max-width: 767px) {
      .product__media-wrapper {
        position: relative;
        overflow: visible;
        border-radius: 4px;
      }
      
      /* Carousel container - establish a viewable area */
      .product__media-list {
        display: flex;
        flex-wrap: nowrap;
        position: relative;
        overflow-x: scroll;
        overflow-y: hidden;
        scroll-snap-type: x mandatory;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: none; /* Firefox */
        grid-template-columns: none;
        grid-template-rows: none;
        gap: 0;
      }
      
      /* Hide scrollbar */
      .product__media-list::-webkit-scrollbar {
        display: none;
      }
      
      /* Slide items */
      .product__media-list li {
        flex: 0 0 100%;
        width: 100%;
        scroll-snap-align: center;
        margin-bottom: 0;
      }
      
      .product__media-list li:first-child {
        grid-column: auto;
      }
      
      .slider__slide {
        transform: none;
      }
      
      .slider__slide:hover {
        transform: none;
      }
      
      /* Image sizing - contain the image properly */
      .slider__slide img {
        display: block;
        width: 100%;
        height: auto;
        margin: 0 auto;
      }
      
      /* Navigation dots */
      .slider-counter {
        position: absolute;
        bottom: -25px;
        left: 0;
        right: 0;
        display: flex;
        justify-content: center;
        gap: 8px;
        z-index: 2;
      }
      
      .slider-dot {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background-color: rgba(255, 255, 255, 0.4);
        cursor: pointer;
        transition: all 0.3s ease;
      }
      
      .slider-dot.active {
        background-color: white;
        transform: scale(1.2);
      }
      
      /* Side arrows */
      .slider-buttons {
        position: absolute;
        top: 50%;
        left: 0;
        right: 0;
        transform: translateY(-50%);
        display: flex;
        justify-content: space-between;
        padding: 0 10px;
        z-index: 2;
      }
      
      .slider-buttons button {
        background: rgba(0, 0, 0, 0.6);
        color: white;
        border: none;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
        backdrop-filter: blur(4px);
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
      }
      
      .slider-buttons button::before {
        content: '';
        display: block;
        width: 10px;
        height: 10px;
        border: 2px solid white;
        border-left: 0;
        border-bottom: 0;
      }
      
      .slider-btn-prev::before {
        transform: rotate(-135deg);
        margin-left: 5px;
      }
      
      .slider-btn-next::before {
        transform: rotate(45deg);
        margin-right: 5px;
      }
      
      .slider-buttons button:hover {
        background: rgba(0, 0, 0, 0.8);
        transform: scale(1.1);
      }
    }
  </style>
</head>

<body>
  <!-- HEADER -->
  <header>
    <div class="page-width header-container">
      <div class="logo">First Light</div>
    </div>
  </header>

  <main>
    <!-- PRODUCT SECTION -->
    <section class="section page-width">
      <div class="product">
        <!-- LEFT COLUMN: IMAGES - Unified structure for both mobile and desktop -->
        <div class="product__media-wrapper fade-in">
          <ul class="product__media-list slider__track">
            <li class="slider__slide">
              <img
                src="./assets/frame_image.png"
                alt="First Light in elegant frame"
              >
            </li>
            <li class="slider__slide">
              <img 
                src="./assets/hand_image.png"
                alt="First Light held in hand"
              >
            </li>
            <li class="slider__slide">
              <img
                src="./assets/two_page_image.png"
                alt="First Light documentation pages"
              >
            </li>
            <li class="slider__slide">
              <img
                src="./assets/star_image.png"
                alt="Close-up of a First Light star"
              >
            </li>
          </ul>

          <!-- Carousel controls (only visible on mobile via CSS) -->
          <div class="slider-buttons">
            <button type="button" class="slider-btn-prev" aria-label="Previous"></button>
            <button type="button" class="slider-btn-next" aria-label="Next"></button>
          </div>
          <div class="slider-counter">
            <span class="slider-dot active" data-index="0"></span>
            <span class="slider-dot" data-index="1"></span>
            <span class="slider-dot" data-index="2"></span>
            <span class="slider-dot" data-index="3"></span>
          </div>
        </div>

        <!-- RIGHT COLUMN: PRODUCT DETAILS -->
        <div class="product__info-wrapper">
          <div class="product__title fade-in">
            <h1>First Light - Star</h1>
          </div>
          <p class="price-tag fade-in">$30.00 USD + Shipping</p>
          <button onclick="window.location.href='https://buy.stripe.com/28o7ue33Ka5S4h25kk'" id="action-button" class="fade-in">Buy Now</button>
          <div class="product__description fade-in">
            <p>First Lights are stars that nobody has ever looked at before. Through a process done in collaboration with research astronomers around the world, the excess and unimportant stars of astronomy are collected, printed, folded, and sealed completely blindly, so that when you open up a First Light, you become the first person in the world to see it.</p>
            
            <div class="divider"></div>
            
            <p>Modern astronomy uses computerized telescopes to discover tens of millions of new stars every year, which is thousands and thousands of new stars of every day. The only people who care about these newly discovered worlds however - research astronomers - could not care less what they look like. Once you've seen the 2+ billion of them that humanity has discovered (itself an impossible task), you've pretty much seen them all. Instead, these new neighbors we find around our galaxy are much more useful for their data: measurements like brightness, wavelength, flicker, and motion that can be plugged in en masse to scientific models so that these individually irrelevant stars can - in the aggregate - uncover new secrets of the universe. That's all they're good for.</p>
            
            <p>The story of modern starlight is one where photons originate trillions and trillions of miles away, spend millions and millions of years getting here, and become destined to spend their life as a row of numbers in a database rather than as a glimmer in a human eye.</p>
            
            <p>I find that deeply sad. But it doesn't have to be.</p>
            
            <p>If you think about what data get collected: brightness, wavelength, flicker — those are all visual pieces of information. Information that we get from the *pictures we take* of these things. Pictures of stars that we have discovered, named, and catalogued by the billion that nobody has ever actually *looked at*.</p>
            
            <p>First Lights give those stars a chance to be seen, by you, for the first time.</p>
            
            <p>I scrape, print, and seal these stars all without looking at them through a process done in close consultation with research astronomers across the globe to ensure that these stars are as unimportant and ignored as possible. The individual star in every First Light envelope is unique and never put in another envelope again. You do not own it. You cannot name it. You are merely the first to bear witness, and with your observation - a la Schrödinger - fasten it as really out there amongst the cosmos.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- TESTIMONIALS SECTION -->
    <section class="testimonials">
      <div class="page-width">
        <div class="testimonial-quote fade-in">
          "Talk about a gift to put all other gifts to shame. There is something truly precious and priceless about the special covenant we have made with the star we met, and those we will get to meet in the years to come."
        </div>
        <div class="testimonial-author fade-in">— Rachael P., on getting First Lights for her wedding.</div>
      </div>
      <div class="page-width">
        <div class="testimonial-quote fade-in">
          "jfhsfsdfhksdjfhsdjfhsfdkTalk about a gift to put all other gifts to shame. There is something truly precious and priceless about the special covenant we have made with the star we met, and those we will get to meet in the years to come."
        </div>
        <div class="testimonial-author fade-in">— Rachael P., on getting First Lights for her wedding.</div>
      </div>
    </section>

    <!-- FAQ SECTION -->
    <section class="section page-width">
      <h2 style="text-align:center;" class="fade-in">Frequently Asked Questions</h2>
      <div class="accordion">
        <details class="fade-in">
          <summary>
            <h3 style="display:inline; font-size: 1.1rem;">How do you know that nobody has seen this star before?</h3>
          </summary>
          <div class="accordion__content">
            <p>In consultation with academic research astronomers across the globe, we've developed a thorough process to ensure that each First Light contains a star that has been discovered by automated telescope systems but never visually inspected by a human. These stars are collected from vast astronomical databases where they exist only as data points rather than visual objects of interest.</p>
          </div>
        </details>
        <details class="fade-in">
          <summary>
            <h3 style="display:inline; font-size: 1.1rem;">Will I own this star? Can I name it?</h3>
          </summary>
          <div class="accordion__content">
            <p>No, and companies or sites that claim otherwise are scamming you. What's important about your relationship to this star is not ownership, but the unique experience of being the first human to ever see it. These stars remain part of our shared universal heritage, but your connection to it is personal and profound — a moment in cosmic history that belongs only to you.</p>
          </div>
        </details>
        <details class="fade-in">
          <summary>
            <h3 style="display:inline; font-size: 1.1rem;">Can I see this star myself? How can I learn more about it?</h3>
          </summary>
          <div class="accordion__content">
            <p>The star is too far out in space to see with the naked eye or even most amateur telescopes, but each First Light info sheet comes with a map of where it is in the sky among visible constellations. You'll receive detailed information about your star's position, magnitude, spectral type, and estimated distance from Earth, allowing you to understand its place in our galaxy.</p>
          </div>
        </details>
      </div>
    </section>
  </main>

  <!-- FOOTER -->
  <footer>
    <div class="page-width">
      <div class="footer__content">
        <div class="footer__logo">First Light</div>
        <div class="footer__copyright">
          <small>
            &copy; 2025, <a href="#">First Light</a>
          </small>
        </div>
      </div>
    </div>
  </footer>

  <!-- Star background canvas -->
  <canvas class="stars" id="stars"></canvas>

  <!-- Scripts -->
  <script>
    // Intersection Observer for fade-in animations
    document.addEventListener('DOMContentLoaded', function() {
      const fadeElements = document.querySelectorAll('.fade-in');
      
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');
            observer.unobserve(entry.target);
          }
        });
      }, {
        threshold: 0.1,
        rootMargin: '0px 0px -100px 0px'
      });
      
      fadeElements.forEach(element => {
        observer.observe(element);
      });
      
      // Make product description visible immediately on mobile
      if (window.innerWidth <= 768) {
        document.querySelectorAll('.product__description').forEach(el => {
          el.classList.add('visible');
        });
      }
    });

    // Stars background
    const canvas = document.getElementById('stars');
    const ctx = canvas.getContext('2d');
    let width = canvas.width = window.innerWidth;
    let height = canvas.height = window.innerHeight;
    
    function createStars(count) {
      const stars = [];
      for (let i = 0; i < count; i++) {
        stars.push({
          x: Math.random() * width,
          y: Math.random() * height,
          radius: Math.random() * 1.5,
          opacity: Math.random() * 0.8 + 0.1,
          // Add slower pulse cycle for each star
          pulseSpeed: Math.random() * 0.075 + 0.001, // Much slower speed
          pulseOffset: Math.random() * Math.PI * 2 // Random starting point in pulse cycle
        });
      }
      return stars;
    }
    
    let stars = createStars(150);
    let time = 0;
    
    function drawStars() {
      ctx.clearRect(0, 0, width, height);
      ctx.fillStyle = '#FFFFFF';
      
      stars.forEach(star => {
        // Create a smooth, slow sine wave for opacity pulsing
        const pulseValue = Math.sin(time * star.pulseSpeed + star.pulseOffset);
        // Convert sine wave (-1 to 1) to a smaller opacity range for subtle effect
        const opacityShift = pulseValue * 0.45; // Reduced range of variation
        
        // Base opacity plus subtle shift
        ctx.globalAlpha = Math.max(0.05, Math.min(0.9, star.opacity + opacityShift));
        
        ctx.beginPath();
        ctx.arc(star.x, star.y, star.radius, 0, Math.PI * 2);
        ctx.fill();
      });
    }
    
    function twinkle() {
      time += 1; // Increment time for animation
      drawStars();
      requestAnimationFrame(twinkle);
    }
    
    window.addEventListener('resize', () => {
      width = canvas.width = window.innerWidth;
      height = canvas.height = window.innerHeight;
      stars = createStars(150);
      drawStars();
    });
    
    twinkle();

    // Unified Image Gallery: Grid on Desktop, Scroll Snap Carousel on Mobile
    function initImageGallery() {
      const mediaList = document.querySelector('.product__media-list');
      const slides = Array.from(mediaList.children);
      const mediaWrapper = document.querySelector('.product__media-wrapper');
      
      // Create carousel controls if they don't exist yet
      if (!document.querySelector('.slider-buttons')) {
        // Create dot indicators container
        const dotsContainer = document.createElement('div');
        dotsContainer.className = 'slider-counter';
        
        // Create dot for each slide
        slides.forEach((_, i) => {
          const dot = document.createElement('span');
          dot.className = i === 0 ? 'slider-dot active' : 'slider-dot';
          dot.setAttribute('data-index', i);
          dotsContainer.appendChild(dot);
        });
        
        // Add to DOM
        mediaWrapper.appendChild(dotsContainer);
        
        // Create button container
        const buttonContainer = document.createElement('div');
        buttonContainer.className = 'slider-buttons';
        
        // Create prev button
        const prevButton = document.createElement('button');
        prevButton.className = 'slider-btn-prev';
        prevButton.setAttribute('aria-label', 'Previous');
        
        // Create next button
        const nextButton = document.createElement('button');
        nextButton.className = 'slider-btn-next';
        nextButton.setAttribute('aria-label', 'Next');
        
        // Add buttons to container
        buttonContainer.appendChild(prevButton);
        buttonContainer.appendChild(nextButton);
        
        // Add to DOM
        mediaWrapper.appendChild(buttonContainer);
      }
      
      function isMobileWidth() {
        return window.innerWidth < 768;
      }
      
      // Get references to the controls
      const dots = document.querySelectorAll('.slider-dot');
      const prevButton = document.querySelector('.slider-btn-prev');
      const nextButton = document.querySelector('.slider-btn-next');
      
      // Click events for dots - scroll to the appropriate slide WITHOUT scrolling the page
      dots.forEach((dot, i) => {
        dot.addEventListener('click', (e) => {
          e.preventDefault();
          if (!isMobileWidth()) return;
          
          // Get current scroll position
          const currentScrollY = window.scrollY;
          
          // Scroll the carousel
          mediaList.scrollTo({
            left: slides[i].offsetLeft,
            behavior: 'smooth'
          });
          
          // Reset page scroll position to prevent jumping
          setTimeout(() => {
            window.scrollTo(0, currentScrollY);
          }, 10);
          
          updateActiveDot(i);
        });
      });
      
      // Navigation buttons - prevent page scrolling
      prevButton.addEventListener('click', (e) => {
        e.preventDefault();
        if (!isMobileWidth()) return;
        
        // Get current scroll positions
        const currentScrollY = window.scrollY;
        const currentIndex = findVisibleSlideIndex();
        const targetIndex = Math.max(0, currentIndex - 1);
        
        // Scroll carousel
        mediaList.scrollTo({
          left: slides[targetIndex].offsetLeft,
          behavior: 'smooth'
        });
        
        // Reset page scroll position
        setTimeout(() => {
          window.scrollTo(0, currentScrollY);
        }, 10);
        
        updateActiveDot(targetIndex);
      });
      
      nextButton.addEventListener('click', (e) => {
        e.preventDefault();
        if (!isMobileWidth()) return;
        
        // Get current scroll positions
        const currentScrollY = window.scrollY;
        const currentIndex = findVisibleSlideIndex();
        const targetIndex = Math.min(slides.length - 1, currentIndex + 1);
        
        // Scroll carousel
        mediaList.scrollTo({
          left: slides[targetIndex].offsetLeft,
          behavior: 'smooth'
        });
        
        // Reset page scroll position
        setTimeout(() => {
          window.scrollTo(0, currentScrollY);
        }, 10);
        
        updateActiveDot(targetIndex);
      });
      
      // Update the active dot based on which slide is in view
      function updateActiveDot(index) {
        dots.forEach((dot, i) => {
          dot.classList.toggle('active', i === index);
        });
      }
      
      // Find which slide is currently most visible
      function findVisibleSlideIndex() {
        if (!isMobileWidth()) return 0;
        
        const containerLeft = mediaList.scrollLeft;
        const containerWidth = mediaList.offsetWidth;
        const containerCenter = containerLeft + (containerWidth / 2);
        
        let closestSlide = 0;
        let closestDistance = Infinity;
        
        slides.forEach((slide, index) => {
          const slideLeft = slide.offsetLeft;
          const slideCenter = slideLeft + (slide.offsetWidth / 2);
          const distance = Math.abs(containerCenter - slideCenter);
          
          if (distance < closestDistance) {
            closestDistance = distance;
            closestSlide = index;
          }
        });
        
        return closestSlide;
      }
      
      // Listen for scroll events to update the active dot, without scrolling the page
      mediaList.addEventListener('scroll', () => {
        if (!isMobileWidth()) return;
        
        // Use requestAnimationFrame to throttle scroll events
        window.requestAnimationFrame(() => {
          const visibleIndex = findVisibleSlideIndex();
          updateActiveDot(visibleIndex);
        });
      });
      
      // Initialize the layout based on screen size
      function initLayout() {
        if (isMobileWidth()) {
          // Mobile: make active dot match first slide but don't scroll
          updateActiveDot(0);
        }
      }
      
      // Handle window resize
      window.addEventListener('resize', () => {
        initLayout();
      });
      
      // Initial setup
      initLayout();
    }
    
    // Initialize image gallery
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initImageGallery);
    } else {
      initImageGallery();
    }
  </script>
</body>
</html>